<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Taste Trek</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }html, body {
  height: 100%;
  font-family: Arial, sans-serif;
}

#map {
  height: 100%;
  width: 100%;
}

.form-container {
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 300px;
  background: rgba(255, 255, 255, 0.95);
  padding: 20px;
  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
  z-index: 1000;
  transform: translateX(0);
  transition: transform 0.3s ease;
}

.form-container.hidden {
  transform: translateX(-100%);
}

#toggle-btn {
  position: fixed;
  top: 20px;
  left: 310px;
  z-index: 1100;
  background-color: #007bff;
  color: white;
  border: none;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
}

@media (max-width: 768px) {
  .form-container {
    width: 80%;
  }

  #toggle-btn {
    left: auto;
    right: 20px;
  }
}

label {
  display: block;
  margin-bottom: 10px;
}

input, select, button {
  width: 100%;
  padding: 8px;
  margin-bottom: 15px;
}

ul {
  list-style: none;
  padding: 0;
}

li {
  margin-bottom: 10px;
  background: #f0f0f0;
  padding: 5px 10px;
  border-radius: 5px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.delete {
  background: red;
  color: white;
  border: none;
  padding: 5px;
  cursor: pointer;
}

  </style>
</head>
<body>
  <div class="form-container" id="formPanel">
    <h3>Add Dish</h3>
    <label>Name: <input type="text" id="dishName" /></label>
    <label>Category: 
      <select id="dishCategory">
        <option>Snack</option>
        <option>Main Course</option>
        <option>Dessert</option>
        <option>Beverage</option>
      </select>
    </label>
    <button onclick="addDish()">Add Dish</button>
    <ul id="dishList"></ul>
  </div>
  <button id="toggle-btn" onclick="togglePanel()">Hide Panel</button>
  <div id="map"></div>  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>  <script>
    const map = L.map('map').setView([20.5937, 78.9629], 5);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    let markers = JSON.parse(localStorage.getItem('markers')) || [];

    const dishList = document.getElementById('dishList');

    function renderDishes() {
      dishList.innerHTML = '';
      markers.forEach((m, i) => {
        const li = document.createElement('li');
        li.innerHTML = `${m.name} (${m.category}) <button class="delete" onclick="deleteDish(${i})">X</button>`;
        dishList.appendChild(li);
      });
    }

    function addDish() {
      const name = document.getElementById('dishName').value;
      const category = document.getElementById('dishCategory').value;
      if (!name || !category || !lastClickLatLng) return;
      const marker = {
        name,
        category,
        lat: lastClickLatLng.lat,
        lng: lastClickLatLng.lng
      };
      markers.push(marker);
      localStorage.setItem('markers', JSON.stringify(markers));
      L.marker([marker.lat, marker.lng]).addTo(map)
        .bindPopup(`${marker.name} (${marker.category})`);
      renderDishes();
    }

    function deleteDish(index) {
      markers.splice(index, 1);
      localStorage.setItem('markers', JSON.stringify(markers));
      location.reload();
    }

    let lastClickLatLng = null;

    map.on('click', function(e) {
      lastClickLatLng = e.latlng;
    });

    markers.forEach(m => {
      L.marker([m.lat, m.lng]).addTo(map)
        .bindPopup(`${m.name} (${m.category})`);
    });

    renderDishes();

    function togglePanel() {
      const panel = document.getElementById('formPanel');
      const btn = document.getElementById('toggle-btn');
      panel.classList.toggle('hidden');
      btn.textContent = panel.classList.contains('hidden') ? 'Show Panel' : 'Hide Panel';
    }
  </script></body>
</html>    
