<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Taste Trek</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: sans-serif;
    }body, html {
  height: 100%;
  display: flex;
  flex-direction: column;
}

#app {
  flex: 1;
  display: flex;
  flex-direction: column;
}

@media (min-width: 768px) {
  #app {
    flex-direction: row;
  }
}

#form-section {
  background: #f8f8f8;
  padding: 16px;
  width: 100%;
  max-width: 300px;
  overflow-y: auto;
}

#map {
  flex: 1;
  height: 400px;
}

@media (min-width: 768px) {
  #map {
    height: 100vh;
  }
}

form input, form select, form button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

form button {
  background: #28a745;
  color: white;
  border: none;
  cursor: pointer;
}

form button:hover {
  background: #218838;
}

  </style>
</head>
<body>
  <div id="app">
    <div id="form-section">
      <h2>Taste Trek</h2>
      <form id="dishForm">
        <input type="text" id="title" placeholder="Dish Name" required />
        <input type="text" id="lat" placeholder="Latitude" required />
        <input type="text" id="lng" placeholder="Longitude" required />
        <select id="category" required>
          <option value="">Choose Category</option>
          <option value="Dessert">Dessert</option>
          <option value="Spicy">Spicy</option>
          <option value="Vegan">Vegan</option>
          <option value="Traditional">Traditional</option>
        </select>
        <button type="submit">Add Dish</button>
        <select id="filter">
          <option value="All">All Categories</option>
          <option value="Dessert">Dessert</option>
          <option value="Spicy">Spicy</option>
          <option value="Vegan">Vegan</option>
          <option value="Traditional">Traditional</option>
        </select>
      </form>
    </div>
    <div id="map"></div>
  </div>  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>  <script>
    const map = L.map('map').setView([20.59, 78.96], 5);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    const dishForm = document.getElementById('dishForm');
    const filter = document.getElementById('filter');

    let dishes = JSON.parse(localStorage.getItem('dishes') || '[]');
    let markers = [];

    function saveDishes() {
      localStorage.setItem('dishes', JSON.stringify(dishes));
    }

    function renderMarkers() {
      markers.forEach(m => map.removeLayer(m));
      markers = [];
      let selected = filter.value;
      dishes.forEach((dish, index) => {
        if (selected === 'All' || dish.category === selected) {
          const marker = L.marker([dish.lat, dish.lng]).addTo(map);
          marker.bindPopup(`
            <b>${dish.title}</b><br>
            ${dish.category}<br>
            <button onclick="deleteDish(${index})">Delete</button>
          `);
          markers.push(marker);
        }
      });
    }

    function deleteDish(index) {
      dishes.splice(index, 1);
      saveDishes();
      renderMarkers();
    }

    dishForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const title = document.getElementById('title').value;
      const lat = parseFloat(document.getElementById('lat').value);
      const lng = parseFloat(document.getElementById('lng').value);
      const category = document.getElementById('category').value;
      if (!isNaN(lat) && !isNaN(lng)) {
        dishes.push({ title, lat, lng, category });
        saveDishes();
        renderMarkers();
        dishForm.reset();
      }
    });

    filter.addEventListener('change', renderMarkers);

    renderMarkers();
  </script></body>
</html>
